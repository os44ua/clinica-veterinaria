import{u as k,r as h,j as e,l as b,h as B,i as $,k as R,a as G,b as O,m as W,n as H,o as J,p as K,q as Q,s as X,t as Y,v as Z,w as _,x as U,y as ee,z as se,B as ae,C as te,D as re}from"./index-DLtPwF8f.js";import{d as ne}from"./dog-DqB3gY0C.js";const le=({data:r,onSave:o,loading:n})=>{const{t:s}=k(),[d,t]=h.useState({nombre:"",apellidos:"",dni:"",telefono:"",direccion:"",fechaNacimiento:""});h.useEffect(()=>{r&&t(r)},[r]);const l=m=>{const{name:a,value:i}=m.target;t(u=>({...u,[a]:i}))},p=m=>{m.preventDefault(),b.info("Enviando datos del formulario cliente"),o(d)};return e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-6",children:s("client.personalData")}),e.jsxs("form",{onSubmit:p,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:s("forms.name")}),e.jsx("input",{type:"text",name:"nombre",value:d.nombre,onChange:l,placeholder:s("client.namePlaceholder"),className:"form-input"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:s("forms.surname")}),e.jsx("input",{type:"text",name:"apellidos",value:d.apellidos,onChange:l,placeholder:s("client.surnamePlaceholder"),className:"form-input"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:s("client.dni")}),e.jsx("input",{type:"text",name:"dni",value:d.dni,onChange:l,placeholder:"12345678A",className:"form-input"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:s("forms.phone")}),e.jsx("input",{type:"tel",name:"telefono",value:d.telefono,onChange:l,placeholder:"+34 666 777 888",className:"form-input"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:s("forms.birthDate")}),e.jsx("input",{type:"date",name:"fechaNacimiento",value:d.fechaNacimiento,onChange:l,className:"form-input"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:s("forms.address")}),e.jsx("textarea",{name:"direccion",value:d.direccion,onChange:l,rows:3,placeholder:s("client.addressPlaceholder"),className:"form-input resize-none"})]}),e.jsx("div",{className:"pt-4",children:e.jsx("button",{type:"submit",disabled:n,className:"btn-primary w-full md:w-auto px-8 py-3",children:s(n?"forms.saving":"forms.save")})})]})]})},ie=({mascota:r,onEdit:o,onDelete:n})=>{const{t:s}=k(),d=()=>{n&&r.id&&window.confirm(s("pet.confirmDelete"))&&n(r.id)},t=p=>{switch(p){case"perro":return s("pet.dog");case"gato":return s("pet.cat");case"ave":return s("pet.bird");case"reptil":return s("pet.reptile");case"otro":return s("pet.other");default:return p}},l=p=>{switch(p){case"macho":return s("pet.male");case"hembra":return s("pet.female");default:return p}};return e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 rounded-lg p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("h4",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[s("pet.myPet"),": ",r.nombre]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsxs("span",{className:"font-semibold text-gray-700",children:[s("pet.species"),":"]}),e.jsx("span",{className:"ml-2 text-gray-600",children:t(r.especie)})]}),e.jsxs("div",{children:[e.jsxs("span",{className:"font-semibold text-gray-700",children:[s("pet.breed"),":"]}),e.jsx("span",{className:"ml-2 text-gray-600",children:r.raza})]}),e.jsxs("div",{children:[e.jsxs("span",{className:"font-semibold text-gray-700",children:[s("pet.age"),":"]}),e.jsxs("span",{className:"ml-2 text-gray-600",children:[r.edad," ",s("pet.years")]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsxs("span",{className:"font-semibold text-gray-700",children:[s("pet.gender"),":"]}),e.jsx("span",{className:"ml-2 text-gray-600",children:l(r.genero)})]}),r.chip&&e.jsxs("div",{children:[e.jsxs("span",{className:"font-semibold text-gray-700",children:[s("pet.chip"),":"]}),e.jsx("span",{className:"ml-2 text-gray-600 font-mono text-sm",children:r.chip})]}),r.fechaNacimiento&&e.jsxs("div",{children:[e.jsxs("span",{className:"font-semibold text-gray-700",children:[s("forms.birthDate"),":"]}),e.jsx("span",{className:"ml-2 text-gray-600",children:r.fechaNacimiento})]})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:o,className:"btn-primary flex items-center space-x-2",title:s("pet.editInfo"),children:[e.jsx("span",{}),e.jsx("span",{children:s("forms.edit")})]}),n&&e.jsxs("button",{onClick:d,className:"btn-danger flex items-center space-x-2",title:s("pet.deletePet"),children:[e.jsx("span",{}),e.jsx("span",{children:s("forms.delete")})]})]})]})},oe=({mascota:r,onSave:o,onCancel:n,loading:s,clienteUid:d})=>{const{t}=k(),[l,p]=h.useState({nombre:"",especie:"perro",raza:"",edad:0,chip:"",genero:"macho",fechaNacimiento:"",clienteUid:d});h.useEffect(()=>{if(r){const{id:i,...u}=r;p(u)}},[r]);const m=i=>{const{name:u,value:j,type:E}=i.target;p(v=>({...v,[u]:E==="number"?parseFloat(j)||0:j}))},a=i=>{i.preventDefault(),b.info(`Enviando formulario mascota: ${l.nombre}`),o(l)};return e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:n,className:"absolute top-0 right-0 text-gray-400 hover:text-gray-600 text-2xl font-bold z-10",title:t("forms.close"),children:"×"}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"text-4xl mb-2",children:"🐾"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:t(r?"pet.editPet":"pet.registerPet")})]}),e.jsxs("form",{onSubmit:a,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:t("pet.name")}),e.jsx("input",{type:"text",name:"nombre",value:l.nombre,onChange:m,required:!0,placeholder:t("pet.namePlaceholder"),className:"form-input"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:t("pet.species")}),e.jsxs("select",{name:"especie",value:l.especie,onChange:m,required:!0,className:"form-input",children:[e.jsx("option",{value:"perro",children:t("pet.dog")}),e.jsx("option",{value:"gato",children:t("pet.cat")}),e.jsx("option",{value:"ave",children:t("pet.bird")}),e.jsx("option",{value:"reptil",children:t("pet.reptile")}),e.jsx("option",{value:"otro",children:t("pet.other")})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:t("pet.breed")}),e.jsx("input",{type:"text",name:"raza",value:l.raza,onChange:m,required:!0,placeholder:t("pet.breedPlaceholder"),className:"form-input"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:t("pet.age")}),e.jsx("input",{type:"number",name:"edad",value:l.edad,onChange:m,required:!0,min:"0",max:"30",className:"form-input"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:t("pet.gender")}),e.jsxs("select",{name:"genero",value:l.genero,onChange:m,required:!0,className:"form-input",children:[e.jsx("option",{value:"macho",children:t("pet.male")}),e.jsx("option",{value:"hembra",children:t("pet.female")})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label",children:[t("pet.chip")," ",e.jsxs("span",{className:"text-gray-400 text-sm",children:["(",t("pet.optional"),")"]})]}),e.jsx("input",{type:"text",name:"chip",value:l.chip,onChange:m,placeholder:t("pet.chipPlaceholder"),className:"form-input"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label",children:[t("forms.birthDate")," ",e.jsxs("span",{className:"text-gray-400 text-sm",children:["(",t("pet.optional"),")"]})]}),e.jsx("input",{type:"date",name:"fechaNacimiento",value:l.fechaNacimiento,onChange:m,className:"form-input"})]}),e.jsxs("div",{className:"flex space-x-3 pt-6",children:[e.jsx("button",{type:"button",onClick:n,className:"btn-secondary flex-1",children:t("forms.cancel")}),e.jsx("button",{type:"submit",disabled:s,className:"btn-primary flex-1",children:t(s?"forms.saving":"forms.save")})]})]})]})},ce=({clienteUid:r,clienteEmail:o,clienteNombre:n,clienteApellidos:s,mascotaId:d,mascotaNombre:t,onSave:l,onCancel:p,loading:m})=>{const{t:a}=k(),[i,u]=h.useState([]),[j,E]=h.useState(""),[v,M]=h.useState(""),[N,P]=h.useState(""),[y,f]=h.useState(""),[F,L]=h.useState(!0);h.useEffect(()=>{A()},[]);const A=async()=>{try{b.info("Cargando lista de veterinarios");const c=B(),g=$(c,"users"),C=await R(g);if(C.exists()){const w=C.val(),S=[];Object.keys(w).forEach(D=>{var q,I,T,V;const x=w[D];(q=x.roles)!=null&&q.veterinario&&S.push({uid:D,nombre:((I=x.perfil)==null?void 0:I.nombre)||"Dr",apellidos:((T=x.perfil)==null?void 0:T.apellidos)||a("appointment.defaultVet"),especialidad:((V=x.perfil)==null?void 0:V.especialidad)||a("vet.generalMedicine")})}),u(S),b.info(`Encontrados ${S.length} veterinarios`)}}catch(c){b.error("Error al cargar veterinarios:",c)}finally{L(!1)}},z=c=>{if(c.preventDefault(),!j||!v||!N||!y.trim()){alert(a("appointment.completeAllFields"));return}const g=i.find(w=>w.uid===j),C={clienteUid:r,clienteEmail:o,clienteNombre:n,clienteApellidos:s,mascotaId:d,mascotaNombre:t,veterinarioUid:j,veterinarioNombre:`${g==null?void 0:g.nombre} ${g==null?void 0:g.apellidos}`,fecha:v,hora:N,motivo:y};b.info("Enviando nueva cita con datos completos"),l(C)};return F?e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-cyan-500 mr-3"}),e.jsx("p",{className:"text-gray-600",children:a("appointment.loadingVets")})]}):e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:p,className:"absolute top-0 right-0 text-gray-400 hover:text-gray-600 text-2xl font-bold z-10",title:a("forms.close"),children:"×"}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"text-4xl mb-2",children:"📅"}),e.jsxs("h3",{className:"text-xl font-semibold text-gray-800",children:[a("appointment.newAppointmentFor")," ",t]})]}),e.jsxs("form",{onSubmit:z,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:a("appointment.specialist")}),e.jsxs("select",{value:j,onChange:c=>E(c.target.value),required:!0,className:"form-input",children:[e.jsx("option",{value:"",children:a("appointment.selectVet")}),i.map(c=>e.jsxs("option",{value:c.uid,children:[c.nombre," ",c.apellidos," - ",c.especialidad]},c.uid))]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:a("appointment.date")}),e.jsx("input",{type:"date",value:v,onChange:c=>M(c.target.value),min:new Date().toISOString().split("T")[0],required:!0,className:"form-input"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:a("appointment.time")}),e.jsxs("select",{value:N,onChange:c=>P(c.target.value),required:!0,className:"form-input",children:[e.jsx("option",{value:"",children:a("appointment.selectTime")}),e.jsx("option",{value:"09:00",children:"09:00"}),e.jsx("option",{value:"09:30",children:"09:30"}),e.jsx("option",{value:"10:00",children:"10:00"}),e.jsx("option",{value:"10:30",children:"10:30"}),e.jsx("option",{value:"11:00",children:"11:00"}),e.jsx("option",{value:"11:30",children:"11:30"}),e.jsx("option",{value:"12:00",children:"12:00"}),e.jsx("option",{value:"16:00",children:"16:00"}),e.jsx("option",{value:"16:30",children:"16:30"}),e.jsx("option",{value:"17:00",children:"17:00"}),e.jsx("option",{value:"17:30",children:"17:30"}),e.jsx("option",{value:"18:00",children:"18:00"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:a("appointment.reason")}),e.jsx("textarea",{value:y,onChange:c=>f(c.target.value),placeholder:a("appointment.reasonPlaceholder"),rows:4,required:!0,className:"form-input resize-none"})]}),e.jsxs("div",{className:"flex space-x-3 pt-6",children:[e.jsx("button",{type:"button",onClick:p,className:"btn-secondary flex-1",children:a("forms.cancel")}),e.jsx("button",{type:"submit",disabled:m,className:"btn-primary flex-1",children:a(m?"appointment.scheduling":"appointment.confirmAppointment")})]})]})]})},de=({citas:r,loading:o,onEliminarCita:n})=>{const{t:s}=k(),[d,t]=h.useState(""),l=a=>{switch(a){case"pendiente":return s("appointment.pending");case"confirmada":return s("appointment.confirmed");case"cancelada":return s("appointment.cancelled");default:return s("admin.roles.unknown")}},p=a=>{const i=l(a);switch(a){case"pendiente":return e.jsxs("span",{className:"inline-flex items-center px-3 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800 border border-yellow-200",children:[e.jsx("span",{className:"w-2 h-2 bg-yellow-400 rounded-full mr-1"}),i]});case"confirmada":return e.jsxs("span",{className:"inline-flex items-center px-3 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800 border border-green-200",children:[e.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full mr-1"}),i]});case"cancelada":return e.jsxs("span",{className:"inline-flex items-center px-3 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-800 border border-gray-200",children:[e.jsx("span",{className:"w-2 h-2 bg-gray-400 rounded-full mr-1"}),i]});default:return e.jsx("span",{className:"inline-flex px-3 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-800",children:i})}},m=r.filter(a=>{var u;if(!d.trim())return!0;const i=d.toLowerCase();return a.mascotaNombre.toLowerCase().includes(i)||((u=a.veterinarioNombre)==null?void 0:u.toLowerCase().includes(i))||a.fecha.includes(i)||a.motivo.toLowerCase().includes(i)||l(a.estado).toLowerCase().includes(i)});return o?e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-gray-200 border-t-cyan-500 mr-3"}),e.jsx("p",{className:"text-gray-600 text-lg",children:s("appointment.loadingAppointments")})]}):e.jsxs("div",{className:"animate-fadeIn",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6 border border-gray-100",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-800 mb-4 sm:mb-0",children:["📅 ",s("client.myAppointments")]}),e.jsxs("div",{className:"text-sm text-gray-500 bg-gray-50 px-3 py-1 rounded-full",children:[m.length," ",m.length===1?"cita":"citas"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),e.jsx("input",{type:"text",value:d,onChange:a=>t(a.target.value),placeholder:s("appointment.searchPlaceholder"),className:"w-full px-4 py-3 pl-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-3 focus:ring-cyan-500/30 focus:border-cyan-500 transition-all duration-200 bg-white shadow-sm"})]})]}),m.length===0?e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center border border-gray-100",children:[e.jsx("div",{className:"text-8xl mb-6",children:"📅"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:d.trim()?s("appointment.noAppointmentsFound"):s("appointment.noAppointments")}),e.jsx("p",{className:"text-gray-500",children:d.trim()?"Intenta buscar con otros términos":"Solicita una nueva cita para comenzar"})]}):e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white",children:[e.jsx("thead",{className:"bg-gradient-to-r from-cyan-50 to-blue-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-center text-xs font-bold text-gray-700 uppercase tracking-wider border-b-2 border-gray-200",children:s("appointment.date")}),e.jsx("th",{className:"px-6 py-4 text-center text-xs font-bold text-gray-700 uppercase tracking-wider border-b-2 border-gray-200",children:s("appointment.time")}),e.jsx("th",{className:"px-6 py-4 text-center text-xs font-bold text-gray-700 uppercase tracking-wider border-b-2 border-gray-200",children:s("appointment.pet")}),e.jsx("th",{className:"px-6 py-4 text-center text-xs font-bold text-gray-700 uppercase tracking-wider border-b-2 border-gray-200",children:s("appointment.vet")}),e.jsx("th",{className:"px-6 py-4 text-center text-xs font-bold text-gray-700 uppercase tracking-wider border-b-2 border-gray-200",children:s("appointment.status")}),e.jsx("th",{className:"px-6 py-4 text-center text-xs font-bold text-gray-700 uppercase tracking-wider border-b-2 border-gray-200",children:s("appointment.reason")}),e.jsx("th",{className:"px-6 py-4 text-center text-xs font-bold text-gray-700 uppercase tracking-wider border-b-2 border-gray-200",children:s("admin.table.actions")})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:m.map((a,i)=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150 animate-slideIn",style:{animationDelay:`${i*.1}s`},children:[e.jsxs("td",{className:"px-6 py-4 text-center border-r border-gray-100",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:new Date(a.fecha).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"})}),e.jsx("div",{className:"text-xs text-gray-500",children:new Date(a.fecha).toLocaleDateString("es-ES",{weekday:"long"})})]}),e.jsx("td",{className:"px-6 py-4 text-center border-r border-gray-100",children:e.jsx("span",{className:"bg-blue-50 text-blue-700 px-3 py-1 rounded-full text-sm font-medium",children:a.hora})}),e.jsx("td",{className:"px-6 py-4 text-center border-r border-gray-100",children:e.jsx("div",{className:"font-semibold text-blue-600",children:a.mascotaNombre})}),e.jsx("td",{className:"px-6 py-4 text-center border-r border-gray-100",children:e.jsx("div",{className:"text-gray-900 font-medium",children:a.veterinarioNombre||"Sin asignar"})}),e.jsx("td",{className:"px-6 py-4 text-center border-r border-gray-100",children:p(a.estado)}),e.jsx("td",{className:"px-6 py-4 text-center border-r border-gray-100",children:e.jsx("div",{className:"max-w-xs mx-auto truncate cursor-help",title:a.motivo,children:a.motivo})}),e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsxs("div",{className:"flex justify-center",children:[(a.estado==="pendiente"||a.estado==="confirmada")&&e.jsx("button",{onClick:()=>{console.log("Cancelando cita:",a.id,"Estado:",a.estado),window.confirm(s("appointment.confirmCancel"))&&n&&n(a.id)},className:"px-4 py-2 text-sm font-medium rounded-md bg-red-500 text-white hover:bg-red-600 transition-all duration-200 shadow-sm hover:shadow-md",title:s("appointment.cancelAppointment"),children:s("appointment.cancel")}),a.estado==="cancelada"&&e.jsx("span",{className:"text-sm text-gray-500",children:s("appointment.cancelled")})]})})]},a.id))})]})})})]})},pe=()=>{const{t:r}=k(),o=G(),{firebaseUser:n}=O(),{data:s,loading:d,error:t,updateLoading:l}=W(),{mascotas:p,loading:m,error:a,addLoading:i}=H(),{citas:u,loading:j,addLoading:E,error:v}=J(x=>x.cita),[M,N]=h.useState(!1),[P,y]=h.useState(!1),f=p.length>0?p[0]:null;h.useEffect(()=>{n!=null&&n.uid&&(b.info("Cargando datos del perfil cliente"),o(K(n.uid)),o(Q(n.uid)),o(X(n.uid)))},[o,n]);const F=x=>{n!=null&&n.uid&&(b.info("Guardando datos del cliente"),o(U({...x,uid:n.uid})))},L=x=>{f?(b.info("Actualizando mascota existente"),o(ae({...x,id:f.id}))):(b.info("Creando nueva mascota"),o(te(x))),N(!1)},A=x=>{b.info("Creando nueva cita para mascota:"),o(re(x)),y(!1)},z=x=>{b.info("Eliminando cita:"),o(se(x))},c=()=>{N(!0)},g=()=>{if(!f){alert(r("client.registerPetFirst"));return}y(!0)},C=x=>{n!=null&&n.uid&&(b.info("Eliminando mascota"),o(ee({id:x,clienteUid:n.uid})))},w=()=>{N(!1)},S=()=>{y(!1)},D=()=>{o(Y()),o(Z()),o(_())};return d?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-cyan-50 to-blue-100 flex items-center justify-center",children:e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-8",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-cyan-500"}),e.jsx("p",{className:"text-gray-600",children:r("client.loadingProfile")})]})})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-cyan-50 to-blue-100 py-8 px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-8 mb-8",children:e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("img",{src:ne,alt:"Client Logo",className:"w-12 h-12 object-contain mr-4"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:r("client.profileTitle")}),e.jsx("p",{className:"text-gray-600",children:r("client.profileDescription")})]})]})}),(t||a||v)&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:r("errors.somethingWrong")}),e.jsx("p",{className:"text-sm mt-1",children:t||a||v})]}),e.jsx("button",{onClick:D,className:"text-red-500 hover:text-red-700 font-semibold",children:r("forms.close")})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:e.jsx(le,{data:s,onSave:F,loading:l})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-6",children:r("client.myPet")}),m?e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-cyan-500 mr-3"}),e.jsx("p",{className:"text-gray-600",children:r("client.loadingPet")})]}):f?e.jsx(ie,{mascota:f,onEdit:c,onDelete:C}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-6xl mb-4",children:"🐾"}),e.jsx("p",{className:"text-gray-600 mb-6 text-lg",children:r("client.noPetRegistered")}),e.jsx("button",{onClick:c,className:"btn-primary text-lg px-6 py-3",children:r("client.registerPet")})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:r("client.myAppointments")}),f&&e.jsx("button",{onClick:g,className:"btn-primary",children:r("client.newAppointment")})]}),e.jsx(de,{citas:u,loading:j,onEliminarCita:z})]})]})}),M&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999] p-4",onClick:w,children:e.jsx("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto",onClick:x=>x.stopPropagation(),children:e.jsx("div",{className:"p-6",children:e.jsx(oe,{mascota:f||void 0,onSave:L,onCancel:w,loading:i,clienteUid:n.uid})})})}),P&&f&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999] p-4",onClick:S,children:e.jsx("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto",onClick:x=>x.stopPropagation(),children:e.jsx("div",{className:"p-6",children:e.jsx(ce,{clienteUid:n.uid,clienteEmail:n.email,clienteNombre:(s==null?void 0:s.nombre)||"",clienteApellidos:(s==null?void 0:s.apellidos)||"",mascotaId:f.id,mascotaNombre:f.nombre,onSave:A,onCancel:S,loading:E})})})})]})};export{pe as default};
